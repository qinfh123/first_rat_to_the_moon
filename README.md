# 萌鼠登月 (First Rat) - 本地游戏版本

一个基于Python的桌游《萌鼠登月》数字化实现，支持2-4人本地多人游戏。

## 🎮 游戏简介

在萌鼠登月中，玩家控制老鼠在棋盘上移动，收集资源，建造火箭部件，最终目标是让老鼠登上火箭前往月球！

### 游戏特色
- 🐭 **老鼠移动**: 单鼠1-5步，多鼠各1-3步，必须落在同色格子
- 🏪 **商店系统**: 三种商店提供不同升级和物品
- 🚀 **火箭建造**: 建造5种不同部件获得分数
- 🧀 **资源管理**: 收集5种资源，管理背包容量
- 🏆 **多种获胜方式**: 第4只老鼠登船或第8个得分标记

## 🚀 快速开始

### 方法1: 直接运行启动脚本
```bash
python run_game.py
```

### 方法2: 作为Python模块运行
```bash
python -m first_rat_local
```

### 方法3: 运行主应用
```bash
cd first_rat_local
python -m cli.app
```

## 📋 系统要求

- Python 3.10 或更高版本
- 支持中文显示的终端

## 🎯 游戏规则

### 基本流程
1. **移动阶段**: 移动老鼠到不同格子
2. **动作阶段**: 执行商店购买、建造等动作
3. **回合结束**: 切换到下一位玩家

### 格子类型
- **起点 (S)**: 老鼠的出生地
- **资源格 (R)**: 获得各种资源
- **商店格**: 
  - **鼹鼠店 (M)**: 扩展背包容量
  - **青蛙店 (F)**: 获得资源翻倍效果
  - **乌鸦店 (C)**: 获得瓶盖
- **轨道格 (T)**: 推进灯泡轨道获得奖励
- **发射台 (L)**: 老鼠登船的地方

### 资源类型
- 🧀 **奶酪**: 用于捐赠和部分建造
- 🥫 **罐头**: 主要建造材料
- 🥤 **苏打**: 青蛙店货币和建造材料
- 💡 **灯泡**: 轨道推进和特殊建造
- 🍾 **瓶盖**: 终局计分物品

## 🎮 游戏命令

### 移动命令
```
move <老鼠ID> <步数>                    # 单鼠移动 (1-5步)
move <老鼠ID1> <步数1> <老鼠ID2> <步数2>  # 多鼠移动 (各1-3步)
```

### 商店命令
```
buy <商店类型> <物品> <老鼠ID>     # 购买物品
steal <商店类型> <物品> <老鼠ID>   # 偷窃物品 (老鼠被送回起点)
```

商店类型: `mole`/`鼹鼠`, `frog`/`青蛙`, `crow`/`乌鸦`

### 建造命令
```
build <部件名>    # 建造火箭部件
```

部件: `nose`/`火箭头`, `tank`/`燃料箱`, `engine`/`引擎`, `fin_a`/`尾翼a`, `fin_b`/`尾翼b`

### 其他命令
```
donate <数量>     # 捐赠奶酪 (1-4个)
end              # 结束回合
help             # 显示帮助
quit             # 退出游戏
```

## 🏗️ 项目架构

```
first_rat_local/
├── core/           # 游戏引擎核心
│   ├── models.py   # 数据模型
│   ├── rules.py    # 规则引擎
│   ├── config.py   # 游戏配置
│   ├── actions.py  # 动作系统
│   ├── events.py   # 事件系统
│   ├── scoring.py  # 计分系统
│   └── setup.py    # 游戏初始化
├── cli/            # 命令行界面
│   ├── app.py      # 主应用
│   ├── render.py   # 渲染系统
│   └── input_schemas.py # 输入解析
└── tests/          # 测试套件
```

## 🧪 运行测试

```bash
python -m pytest first_rat_local/tests/ -v
```

## 🎯 设计特点

- **模块化架构**: 游戏引擎与UI完全分离
- **事件驱动**: 完整的事件系统支持回放和调试
- **配置化规则**: 游戏参数可配置，支持不同变体
- **类型安全**: 完整的类型注解和枚举系统
- **国际化**: 中文界面和提示信息

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

本项目仅供学习和娱乐使用。

---

🎉 **祝你游戏愉快！让我们一起登上月球！** 🌙